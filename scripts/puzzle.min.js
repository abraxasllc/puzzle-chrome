(function(){var a,C,l,i,A,s,r,g,e,q,n,b,D,f,p,v,y,z,u,d,m,w,B,o,k,h,x,j,t,c;q="initial";n="waiting";A="";i=0;C=4;e=3;r=9;D=1;l=0;a=4;g=3;s=9;b=1;c=null;y=null;j=null;B=null;k=null;f=null;v=null;t=A;o=i;p=l;z=function(){w();u();if(o!==i&&p!==l){m(t,true);return x(q)}else{d(t,true);m(t,false);return x(n)}};u=function(){c=document.getElementById("wrapper");y=document.getElementById("image");j=document.getElementById("url");B=document.getElementById("rows");k=document.getElementById("rowsvalue");f=document.getElementById("cols");return(v=document.getElementById("colsvalue"))};w=function(){t=decodeURIComponent(Query.url||(""+(A)));o=parseInt(decodeURIComponent(Query.rows||(""+(i))));p=parseInt(decodeURIComponent(Query.cols||(""+(l))));if(o===i||o<e||o>r){o=i}return p===l||p<g||p>s?(p=l):undefined};d=function(E,F){j.value=E;B.min=e;B.max=r;B.step=D;B.value=C;f.min=g;f.max=s;f.step=b;f.value=a;if(F){B.addEventListener("change",function(G){return(k.textContent=G.target.value)},true)}Utils.fireEvent(B,"change");if(F){f.addEventListener("change",function(G){return(v.textContent=G.target.value)},true)}return Utils.fireEvent(f,"change")};m=function(E,F){if(F){y.addEventListener("load",function(G){return $(G.target).puzzle({rows:o,cols:p})},true)}return(y.src=E)};x=function(E){var F;c.className=E;F=chrome.i18n.getMessage("msg_"+(E));return(F!=null)?h(F):undefined};h=function(E){return(y.alt=E)};window.addEventListener("load",z,true)}).call(this);